<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>ajax纯文本</title>
</head>
<body>
	
     <button id = "button">请求json</button>
      
      <br><br>
      <div id="text">  </div>


    <script type="text/javascript">
       document.getElementById("button").addEventListener("click",loadText);
		
		function loadText(){

			// console.log("hello world!")
	
			 var xhr = new XMLHttpRequest();

			 xhr.open('GET','users.json',true)

             xhr.send();
             //两种请求方式
             // xhr.onload = function () {

             // 	console.log(this.responseText);
             	
             // }

     //        //这个是加载过程，转圈圈的过程
  			// xhr.onprogress = function () {

  			// 	console.log(this.readyState);
  			// }
              
             
               xhr.onload = function(){


             	if(this.status == 200 ){
                      
             		var users = JSON.parse(this.responseText);
             		console.log(users);
             		  var output = "";

             	    for(let i in  users ){
             	    	 output += `${users[i].name} ` ;
             	    }
	             	
	             	
	             	
	             	}
	             	 document.getElementById('text').innerHTML =output ;
                }
             	
            }








		

		

    </script>





</body>
</html>