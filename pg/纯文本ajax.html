<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>ajax纯文本</title>
</head>
<body>
	
     <button id = "button">请求纯文本</button>
      
      <br><br>
      <div id="text">  </div>


    <script type="text/javascript">
       document.getElementById("button").addEventListener("click",loadText);
		
		function loadText(){

			// console.log("hello world!")
	
			 var xhr = new XMLHttpRequest();

			 xhr.open('GET','sample.text',true)

             xhr.send();
             //两种请求方式
             // xhr.onload = function () {

             // 	console.log(this.responseText);
             	
             // }

            //这个是加载过程，转圈圈的过程
  			xhr.onprogress = function () {

  				console.log(this.readyState);
  			}
              
             xhr.onreadystatechange = function () {

             	if(this.status == 200 && this.readyState ==4 ){
	             	
	             	 document.getElementById('text').innerHTML = this.responseText;
	             	
	             	}else if (this.status == 404){

	             		console.log('请求的网页不存在');
             	    }
             	    
                
             	
            }








		}	

		

    </script>





</body>
</html>